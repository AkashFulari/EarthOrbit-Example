/*
*
* Author: Akash K Fulari
* Contact-mail: akashfulari31@gmail.com
* Description: This is Earth Orbital Rotation animation using HTML, CSS, & JS
* Created: 2024-06-21 22:20:45
 Last Modification Date: 2024-06-21 22:30:18
* NOTE:
* This JS file is ENCODE/MIFIED
**/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AKLib=t():e.AKLib=t()}(this,(()=>(()=>{const e=document.getElementById("canvas"),t=document.getElementById("TestingMode"),a=document.getElementById("useCustomDate"),o=document.getElementById("customDate"),n=e=>e.toString().padStart(2,"0"),r={config:{modeKey:"modeKey",useCustomDateKey:"useCustomDateKey",customDateKey:"customDateKey"},size:650,moonDays:29.5,yearDays:365.25,half:function(){return this.size/2},_35per:function(){return this.size/100*35}},l=new Image,i=new Image,s=new Image,u={miliseconds:1,seconds:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,year:24*r.yearDays*60*60*1e3,dummyCalculation:36e5};let c=localStorage.getItem(r.config.useCustomDateKey);localStorage.getItem(r.config.customDateKey);function f(){return a.checked?new Date(o.value):new Date}function d(e,t){return 360/t*e}function y(e){return`${n(e.getDate())}/${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]}/${e.getFullYear()} ${["Sunday","Monday","Tuesday","Wednseday","Thursday","Friday","Saturday"][e.getDay()]} ${n(e.getHours())}:${n(e.getMinutes())}:${n(e.getSeconds())} ${e.getHours()>=12?"PM":"AM"}`}function m(){a.checked?o.removeAttribute("disabled"):o.setAttribute("disabled",!0)}function g(e,t){null!=e&&"true"==e?t.setAttribute("checked",!0):t.removeAttribute("checked")}function h(e){let t=((new Date).getYear()-70)*u.year;return new Date(e*u.dummyCalculation+t)}function S(e,t){let a=h(e);return 0===t?d(a%u.year,u.year):1===t?d(a%(u.day*r.moonDays),u.day*r.moonDays):2===t?d(a%u.day,u.day):void 0}function p(e){let t=e%(u.day*r.moonDays)/u.day,a=["New Moon","Waning Cresent","Last Quarter","Waning Gibbous","Full Moon","Waxing Gibbous","First Quarter","Waxing Cresent"],o=a.length,n=r.moonDays/o;for(let e=1;e<=o;e++){let r=n*e;if(e>o-1){if(t==r)return a[0];if(t<r)return"TO "+a[0]}else if(t<=r){if(t==r)return a[e];if(t<r)return"TO "+a[e]}}}g(localStorage.getItem(r.config.modeKey),t),t.onchange=()=>{localStorage.setItem(r.config.modeKey,t.checked)},g(c,a),a.onchange=()=>{localStorage.setItem(r.config.useCustomDateKey,a.checked),m()},m(),o.onchange=()=>{let e=o.value;localStorage.setItem(r.config.customDateKey,e)};let D=0;function I(){let a=t.checked;const o=e.getContext("2d");if(e.width=r.size,e.height=r.size,o.globalCompositeOperation="destination-over",o.clearRect(0,0,r.size,r.size),o.fillStyle="red",o.arc(30,60,5,0,2*Math.PI,!1),o.fill(),o.fillStyle="white",o.font="14px Sans-Serif",o.fillText("Your Sunset / Sunrise Location",43,65),o.save(),o.font="18px Sans-Serif",o.fillText(y(f())+" - "+p(f()),20,40),o.save(),a){let e=h(D);o.fillStyle="white",o.font="14px Sans-Serif",o.fillText("Demo Days:",25,90),o.font="12px Sans-Serif",o.fillText(y(e),25,110),o.fillText(p(e),25,130),o.save()}o.font="18px Sans-Serif",o.fillStyle="#fff7",o.fillText("By: Akash K. Fulari",r.size-400,r.size-20),o.save(),o.translate(r.half(),r.half());let n=(a?S(D,0):d(f()%u.year,u.year))*Math.PI/180;const c=o.createRadialGradient(0,0,42,0,40,230);c.addColorStop(0,"#4449"),c.addColorStop(1,"#00000000"),o.fillStyle=c,o.rotate(n),o.translate(r._35per(),0),o.fillRect(0,-42,200,85),o.save();let m=(a?S(D,1):d(f()%(r.moonDays*u.day),u.day*r.moonDays))*Math.PI/180;o.rotate(m),o.translate(0,27.5),o.drawImage(i,-100,-100,40,40),o.restore();let g=(a?S(D,2):d(f()%u.day,u.day))*Math.PI/180;o.rotate(g),o.beginPath(),o.fillStyle="red",o.arc(0,43,5,0,2*Math.PI,!1),o.fill(),o.translate(0,0),o.drawImage(s,-50,-50,100,100),o.restore(),o.restore(),o.beginPath(),o.strokeStyle="lightblue",o.arc(r.half(),r.half(),r._35per(),0,2*Math.PI,!1),o.stroke(),o.restore(),o.beginPath(),o.arc(r.half(),r.half(),60,0,2*Math.PI),o.fillStyle="orange",o.fill();const b=o.createRadialGradient(r.half(),r.half(),0,r.half(),r.half(),r._35per()+490);b.addColorStop(0,"#ffb80099"),b.addColorStop(1,"#00000000"),o.fillStyle=b,o.fillRect(0,0,r.size,r.size),o.drawImage(l,0,0,r.size,r.size),a&&D++,window.requestAnimationFrame(I)}return l.src="canvas_sun.png",i.src="moon.png",s.src="earth.png",window.requestAnimationFrame(I),{}})()));